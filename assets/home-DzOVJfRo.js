import{d as M,r as u,o as w,c as f,a as l,F as z,b as B,n as v,t as _,u as $,e as b,f as D,_ as F}from"./index-S0QH5-0V.js";const I=["onClick"],A={class:"card-content"},L=["disabled"],N=["disabled"],P=M({__name:"home",setup(R){const C=$(),s=u(0),a=u(!1),h=u(!1),c=u(""),d=u(0),p=u(0),r=u(0),o=u([{id:0,title:"用户注册",path:"register"},{id:1,title:"用户登录",path:"login"},{id:2,title:"找回密码",path:"recover"},{id:3,title:"每日签到",path:"sign"},{id:4,title:"获取绑定码",path:"bindCode"}]),T=e=>{h.value=!0,c.value="slide-out",setTimeout(()=>{C.push(e)},400)},k=e=>{T(o.value[e].path)},g=()=>{const e=[...o.value],n=e.shift();n&&e.push(n),o.value=e,s.value=0},m=()=>{const e=[...o.value],n=e.pop();n&&e.unshift(n),o.value=e,s.value=0},X=e=>{d.value=e.changedTouches[0].screenX,r.value=e.changedTouches[0].screenY},Y=e=>{if(!r.value)return;const n=e.changedTouches[0].screenY,i=e.changedTouches[0].screenX,t=Math.abs(i-d.value);if(Math.abs(n-r.value)>t){e.stopPropagation();return}e.preventDefault()},S=e=>{p.value=e.changedTouches[0].screenX,x(),r.value=0},x=()=>{d.value-p.value>50?g():p.value-d.value>50&&m()},y=()=>{a.value=!a.value};return w(()=>{setTimeout(()=>{h.value=!0,c.value="slide-in",setTimeout(()=>{h.value=!1,c.value=""},400)},0)}),(e,n)=>(b(),f("div",{class:v(["register-container no-border",c.value])},[l("div",{class:v(["card-stack-container",{expanded:a.value}])},[l("div",{class:"card-stack",onTouchstart:X,onTouchmove:Y,onTouchend:S},[(b(!0),f(z,null,B(o.value,(i,t)=>(b(),f("div",{key:i.id,class:v(["card",{active:!a.value&&s.value===t,behind:!a.value&&s.value<t,previous:!a.value&&s.value>t,"expanded-card":a.value,"active-expanded":a.value}]),style:D({zIndex:s.value===t?o.value.length:o.value.length-Math.abs(t-s.value),transform:a.value?"none":`translateX(${(t-s.value)*30}px) translateY(${(t-s.value)*15}px)`,opacity:a.value||s.value===t?1:.7}),onClick:E=>k(t)},[l("div",A,[l("h3",null,_(i.title),1),n[0]||(n[0]=l("p",null,"欢迎喵~",-1))])],14,I))),128))],32)],2),l("div",{class:v(["navigation-controls",{floating:a.value}])},[l("button",{class:"btn btn-prev",onClick:m,disabled:a.value}," 上个 ",8,L),l("button",{class:"btn btn-submit",onClick:y},_(a.value?"收起":"展开"),1),l("button",{class:"btn btn-next",onClick:g,disabled:a.value}," 下个 ",8,N)],2)],2))}}),j=F(P,[["__scopeId","data-v-c7d59160"]]);export{j as default};
